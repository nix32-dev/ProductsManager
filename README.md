# ProductManager
  
Данная программа предназначена для менеджмента продуктов используя базу данных и контейниризацию Docker.

### Запуск:
Переходим в удобный вам каталог и в консоль отправляем команду:
```git clone https://github.com/nix32-dev/ProductsManager```
1. В файле .env (нужно создать) укажите значения для требуемых переменных (посмотреть можно в .env.example)
2. Для запуска без компиляции введите в консоли ```make start``` (ВАШ PostgreSQL должен быть в рабочем состоянии)
3. Для запуска через Docker используйте ```make deploy-up```
4. Для остановки через Docker используйте ```make deploy-down```
Обратите внимание! Лог-файл лежит в директории ```/var/log``` (не Docker). Сохранения значений таблиц лежит в директории ```/var/lib/postgresql```

#### Создание продукта:
Чтобы создать продукт необходимо отправить запрос на ```"ваш-ip"/create```. Запрос должен быть с методом ```POST```, в формате JSON.
Пример запроса (все строки обязательны к заполнению): 
```json
{
	"name":"Шампунь", // Название - До 20 символов
	"description":"Лучший шампунь во всей Европе", // Описание - До 300 символов
	"price":100, // Цена
	"quantity":300 // Количество
}
```

#### Изменение продукта:
Чтобы изменить продукт необходимо отправить запрос с методом ```PATCH``` на  ```"ваш-ip"/change``` с querry-параметрами:  ```id``` - ID продукта, ```key``` - ключ к значению, ```value``` - новое значение.
Пример запроса:
```go
"ваш-ip"/change?id=1&key=description&value=Ладно, шампунь конкурентов оказался лучше
```

#### Удаление продукта: 
Чтобы удалить продукт необходимо отправить запрос с методом ```DELETE``` на  ```"ваш-ip"/delete``` с querry-параметром:  ```id``` - ID продукта.
Пример запроса:
```go
"ваш-ip"/delete?id=1
```

#### Получение списка продуктов:
Чтобы получить список продуктов необходимо отправить запрос с методом ```GET``` на  ```"ваш-ip"/``` с querry-параметром:  ```page``` - страница продуктов (отображает до 10 товаров на 1 странице).
Пример запроса:
```go
"ваш-ip"/?page=1
```

